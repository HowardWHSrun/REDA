{"ast":null,"code":"// ========================================================================\n// REDA EMC Testing Tool - Main Application Component\n// ========================================================================\n// Turner Engineering Corporation - Professional EMC Testing Support\n// \n// Main React application component with theme management and routing\n// ========================================================================\nimport React,{useCallback,useState,useEffect,Suspense,lazy}from'react';import{AppContextProvider,useCurrentMode,useAppContext,useCsvOverlayState}from'./context/AppContext';import{FolderBrowser,WelcomeGuide}from'./components';import{CsvService}from'./services/CsvService';import{NoiseAnalysisService}from'./services/NoiseAnalysisService';import{APP_CONFIG,CSV_THEME,IMAGE_THEME,CORRECTION_THEME}from'./constants';import'./App.css';// Lazy load heavy components for better performance\nimport{Fragment as _Fragment,jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CsvVisualization=/*#__PURE__*/lazy(()=>import('./components/CsvVisualization/CsvVisualization'));// ========================================================================\n// SMALL ALWAYS-VISIBLE HEADER (NO POPUP BEHAVIOR)\n// ========================================================================\n// ========================================================================\n// THEME PROVIDER COMPONENT\n// ========================================================================\nconst ThemeProvider=_ref=>{let{children}=_ref;const currentMode=useCurrentMode();// Select theme based on current mode\nconst getTheme=mode=>{switch(mode){case'csv':return CSV_THEME;case'images':return IMAGE_THEME;case'correction':return CORRECTION_THEME;default:return CSV_THEME;}};const theme=getTheme(currentMode);// Apply theme to CSS custom properties\nReact.useEffect(()=>{const root=document.documentElement;// Apply theme colors\nroot.style.setProperty('--color-primary',theme.colors.primary);root.style.setProperty('--color-secondary',theme.colors.secondary);root.style.setProperty('--color-background',theme.colors.background);root.style.setProperty('--color-surface',theme.colors.surface);root.style.setProperty('--color-text',theme.colors.text);root.style.setProperty('--color-text-secondary',theme.colors.textSecondary);root.style.setProperty('--color-border',theme.colors.border);root.style.setProperty('--color-success',theme.colors.success);root.style.setProperty('--color-warning',theme.colors.warning);root.style.setProperty('--color-error',theme.colors.error);// Apply typography\nroot.style.setProperty('--font-family',theme.typography.fontFamily);root.style.setProperty('--font-size-small',theme.typography.fontSize.small);root.style.setProperty('--font-size-medium',theme.typography.fontSize.medium);root.style.setProperty('--font-size-large',theme.typography.fontSize.large);root.style.setProperty('--font-size-xlarge',theme.typography.fontSize.xlarge);// Apply spacing\nroot.style.setProperty('--spacing-xs',theme.spacing.xs);root.style.setProperty('--spacing-sm',theme.spacing.sm);root.style.setProperty('--spacing-md',theme.spacing.md);root.style.setProperty('--spacing-lg',theme.spacing.lg);root.style.setProperty('--spacing-xl',theme.spacing.xl);// Apply border radius\nroot.style.setProperty('--border-radius-small',theme.borderRadius.small);root.style.setProperty('--border-radius-medium',theme.borderRadius.medium);root.style.setProperty('--border-radius-large',theme.borderRadius.large);// Apply theme class to body\ndocument.body.className=\"\".concat(theme.name,\"-theme\");},[theme]);return/*#__PURE__*/_jsx(_Fragment,{children:children});};const ApplicationHeader=()=>{return/*#__PURE__*/_jsx(\"header\",{style:{position:'fixed',top:0,left:0,right:0,zIndex:1000,background:'rgba(255, 255, 255, 0.98)',backdropFilter:'blur(10px)',boxShadow:'0 1px 3px rgba(0, 0, 0, 0.1)',height:'32px',display:'flex',alignItems:'center',justifyContent:'center',borderBottom:'1px solid rgba(0, 0, 0, 0.1)'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'12px',fontSize:'13px',fontWeight:'600',color:'#2c3e50'},children:[/*#__PURE__*/_jsx(\"img\",{src:\"/tenco-logo.png\",alt:\"Turner Engineering Corporation\",style:{height:'20px',width:'auto'},onError:e=>{e.target.style.display='none';}}),/*#__PURE__*/_jsx(\"span\",{children:\"Figure Export Tool v4.1\"}),/*#__PURE__*/_jsx(\"span\",{style:{color:'#7f8c8d',fontSize:'11px'},children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{style:{color:'#7f8c8d',fontSize:'11px'},children:\"Turner Engineering Corporation\"})]})});};// ========================================================================\n// FILE SELECTION INTERFACE\n// ========================================================================\n// ========================================================================\n// WELCOME GUIDE STATE MANAGEMENT\n// ========================================================================\n// ========================================================================\n// TOAST NOTIFICATION COMPONENT\n// ========================================================================\nconst Toast=_ref2=>{let{message,type,onClose}=_ref2;useEffect(()=>{const timer=setTimeout(()=>{onClose();},3000);return()=>clearTimeout(timer);},[onClose]);const getBackgroundColor=()=>{switch(type){case'success':return'#22c55e';case'error':return'#ef4444';case'info':return'#3b82f6';default:return'#3b82f6';}};return/*#__PURE__*/_jsxs(\"div\",{style:{position:'fixed',top:'50px',right:'20px',zIndex:10000,background:getBackgroundColor(),color:'white',padding:'12px 16px',borderRadius:'8px',fontWeight:'500',fontSize:'14px',boxShadow:'0 4px 12px rgba(0, 0, 0, 0.3)',animation:'slideIn 0.3s ease-out'},children:[message,/*#__PURE__*/_jsx(\"style\",{children:\"\\n        @keyframes slideIn {\\n          from { transform: translateX(100%); opacity: 0; }\\n          to { transform: translateX(0); opacity: 1; }\\n        }\\n      \"})]});};// ========================================================================\n// MAIN APPLICATION CONTENT\n// ========================================================================\nconst ApplicationContent=()=>{const currentMode=useCurrentMode();const{updateCsvOverlayState}=useAppContext();const{csvOverlayState}=useCsvOverlayState();// Toast notification state\nconst[toast,setToast]=useState(null);// Welcome guide state\nconst[showWelcomeGuide,setShowWelcomeGuide]=useState(false);useEffect(()=>{// Check if user has seen the welcome guide before\nconst hasSeenGuide=localStorage.getItem('reda_welcome_guide_seen');if(!hasSeenGuide){setShowWelcomeGuide(true);}},[]);const handleWelcomeGuideClose=()=>{setShowWelcomeGuide(false);localStorage.setItem('reda_welcome_guide_seen','true');};const showToast=function(message){let type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'info';setToast({message,type});};const hideToast=()=>{setToast(null);};// ========================================================================\n// FILE LOADING FUNCTIONALITY\n// ========================================================================\nconst handleFilesSelected=useCallback(async(selectedItems,panelId)=>{const panelName=panelId==='dataset-a'?'Dataset A':'Dataset B';const existingDatasetsFromPanel=csvOverlayState.datasets.filter(dataset=>dataset.panelId===panelId);if(selectedItems.length===0){// Clear only datasets from this panel when no files are selected\nupdateCsvOverlayState({datasets:csvOverlayState.datasets.filter(dataset=>dataset.panelId!==panelId)});if(existingDatasetsFromPanel.length>0){const fileName=existingDatasetsFromPanel[0].filename;showToast(\"Removed \\\"\".concat(fileName,\"\\\" from \").concat(panelName),'info');}else{showToast(\"No file to clear from \".concat(panelName),'info');}return;}try{// Clear only existing datasets from this panel when new files are selected\nconst filteredDatasets=csvOverlayState.datasets.filter(dataset=>dataset.panelId!==panelId);const wasCleared=csvOverlayState.datasets.length>filteredDatasets.length;console.log(\"\\uD83E\\uDDF9 Clearing datasets from \".concat(panelId,\". Before: \").concat(csvOverlayState.datasets.length,\", After: \").concat(filteredDatasets.length));updateCsvOverlayState({datasets:filteredDatasets});console.log(\"Loading 1 file from \".concat(panelId,\"...\"));const newFile=selectedItems[0];// Only one file since we enforce single selection\nconst newBand=newFile===null||newFile===void 0?void 0:newFile.detectedBand;if(wasCleared&&existingDatasetsFromPanel.length>0){var _existingDatasetsFrom,_existingDatasetsFrom2;const oldFileName=existingDatasetsFromPanel[0].filename;const oldBand=(_existingDatasetsFrom=existingDatasetsFromPanel[0].label)===null||_existingDatasetsFrom===void 0?void 0:(_existingDatasetsFrom2=_existingDatasetsFrom.match(/\\((.*?)\\)/))===null||_existingDatasetsFrom2===void 0?void 0:_existingDatasetsFrom2[1];if(newBand&&oldBand&&newBand!==oldBand){showToast(\"\".concat(panelName,\": Switched from \\\"\").concat(oldFileName,\"\\\" (\").concat(oldBand,\") to \\\"\").concat(newFile.name,\"\\\" (\").concat(newBand,\")\"),'info');}else{showToast(\"\".concat(panelName,\": Switched from \\\"\").concat(oldFileName,\"\\\" to \\\"\").concat(newFile.name,\"\\\"\"),'info');}}else{showToast(\"Loading \\\"\".concat(newFile.name,\"\\\" into \").concat(panelName,\"...\"),'info');}// Process the single file\nconst newDatasets=[];if(!newFile.fileHandle){console.warn(\"No file handle for \".concat(newFile.name,\", skipping...\"));return;}try{// Get the actual file from the handle\nconst file=await newFile.fileHandle.getFile();console.log(\"Reading file: \".concat(newFile.name,\" (\").concat((file.size/1024).toFixed(1),\" KB)\"));// Parse the actual CSV file\nconst parseResult=await CsvService.parseCsvFile(file);if(parseResult.success&&parseResult.data){// Assign colors based on panel: Left=Blue, Right=Orange\nlet color;if(panelId==='dataset-a'){color='#1f77b4';// Professional blue for left panel\n}else if(panelId==='dataset-b'){color='#ff7f0e';// Professional orange for right panel\n}else{color=APP_CONFIG.chartColors[0];}// Detect band from actual frequency data if not already detected\nlet detectedBand=newFile.detectedBand;if(!detectedBand){const frequencies=parseResult.data.map(point=>point.frequency/1e6);// Convert to MHz\nconst minFreq=Math.min(...frequencies);const maxFreq=Math.max(...frequencies);detectedBand=CsvService.detectBandFromFrequencyRange(minFreq,maxFreq);}// Calculate noisiness if not already available\nlet noisinessIndex,noisinessCategory;if(newFile.noisinessAnalysis){noisinessIndex=newFile.noisinessAnalysis.noisinessIndex;noisinessCategory=newFile.noisinessAnalysis.category;}else{const noisinessResult=NoiseAnalysisService.calculateNoisinessIndex(parseResult.data,newFile.name);noisinessIndex=noisinessResult.noisinessIndex;noisinessCategory=noisinessResult.category;}const dataset={id:\"dataset_\".concat(Date.now(),\"_\").concat(Math.random().toString(36).substr(2,9)),filename:newFile.name,data:parseResult.data,color:color,frequencyData:parseResult.data.map(point=>point.frequency/1e6),// Convert to MHz\namplitudeData:parseResult.data.map(point=>point.amplitude),visible:true,label:\"\".concat(newFile.name,\" (\").concat(detectedBand||'Unknown',\")\"),panelId:panelId,// Store which panel this came from\nnoisinessIndex:noisinessIndex,noisinessCategory:noisinessCategory};newDatasets.push(dataset);console.log(\"\\u2705 Loaded: \".concat(newFile.name,\" with \").concat(parseResult.data.length,\" data points (\").concat(detectedBand||'Unknown band',\") from \").concat(panelId));}else{console.error(\"Failed to parse \".concat(newFile.name,\":\"),parseResult.errors);showToast(\"Failed to parse \\\"\".concat(newFile.name,\"\\\"\"),'error');return;}}catch(fileError){console.error(\"Error reading file \".concat(newFile.name,\":\"),fileError);showToast(\"Error reading \\\"\".concat(newFile.name,\"\\\"\"),'error');return;}// Update state with the new dataset\nif(newDatasets.length>0){const finalDatasets=[...filteredDatasets,...newDatasets];console.log(\"\\uD83D\\uDCCA Adding 1 new dataset to \".concat(filteredDatasets.length,\" existing. Total: \").concat(finalDatasets.length));updateCsvOverlayState({datasets:finalDatasets});showToast(\"Successfully loaded \\\"\".concat(newFile.name,\"\\\" to plot\"),'success');}console.log('ðŸŽ¯ File loaded successfully for',panelId);}catch(error){console.error('Error loading file:',error);showToast('Failed to load selected file. Please try again.','error');}},[updateCsvOverlayState,csvOverlayState]);const renderModeContent=()=>{switch(currentMode){case'csv':return/*#__PURE__*/_jsxs(\"div\",{className:\"csv-mode-content three-panel-layout\",style:{height:'100%'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"left-panel\",style:{height:'100%'},children:/*#__PURE__*/_jsx(FolderBrowser,{panelId:\"dataset-a\",title:\"Dataset A\",maxFiles:1,onFilesSelected:files=>handleFilesSelected(files,'dataset-a')})}),/*#__PURE__*/_jsx(\"div\",{className:\"center-panel\",\"data-guide-id\":\"chart\",style:{height:'100%'},children:/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center',alignItems:'center',height:'400px',fontSize:'16px',color:'#666'},children:\"Loading EMC Visualization...\"}),children:/*#__PURE__*/_jsx(CsvVisualization,{showControls:false,showLegend:true})})}),/*#__PURE__*/_jsx(\"div\",{className:\"right-panel\",style:{height:'100%'},children:/*#__PURE__*/_jsx(FolderBrowser,{panelId:\"dataset-b\",title:\"Dataset B\",maxFiles:1,onFilesSelected:files=>handleFilesSelected(files,'dataset-b')})})]});case'images':return/*#__PURE__*/_jsx(\"div\",{className:\"image-mode-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mode-placeholder\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCF7 Image Annotation Mode\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Upload and annotate EMC test images with measurement tools\"}),/*#__PURE__*/_jsx(\"small\",{children:\"This functionality will be implemented in the next phase\"})]})});case'correction':return/*#__PURE__*/_jsx(\"div\",{className:\"correction-mode-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mode-placeholder\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u26A1 EMI Correction Mode\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Apply PCEP corrections to measurement data for accurate analysis\"}),/*#__PURE__*/_jsx(\"small\",{children:\"This functionality will be implemented in the next phase\"})]})});default:return null;}};return/*#__PURE__*/_jsxs(\"main\",{className:\"app-main\",style:{height:'100vh',overflow:'hidden',paddingTop:'32px'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"main-content\",style:{height:'calc(100% - 32px)'},children:renderModeContent()}),toast&&/*#__PURE__*/_jsx(Toast,{message:toast.message,type:toast.type,onClose:hideToast}),/*#__PURE__*/_jsx(WelcomeGuide,{isVisible:showWelcomeGuide,onClose:handleWelcomeGuideClose})]});};// ========================================================================\n// FOOTER REMOVED - KEEPING ONLY SMALL TOP HEADER\n// ========================================================================\n// ========================================================================\n// MAIN APP COMPONENT (WITH CONTEXT)\n// ========================================================================\nconst AppContent=()=>{return/*#__PURE__*/_jsx(\"div\",{className:\"app-container\",children:/*#__PURE__*/_jsxs(ThemeProvider,{children:[/*#__PURE__*/_jsx(ApplicationHeader,{}),/*#__PURE__*/_jsx(ApplicationContent,{})]})});};// ========================================================================\n// ROOT APP COMPONENT\n// ========================================================================\nconst App=()=>{return/*#__PURE__*/_jsx(AppContextProvider,{children:/*#__PURE__*/_jsx(AppContent,{})});};export default App;","map":{"version":3,"names":["React","useCallback","useState","useEffect","Suspense","lazy","AppContextProvider","useCurrentMode","useAppContext","useCsvOverlayState","FolderBrowser","WelcomeGuide","CsvService","NoiseAnalysisService","APP_CONFIG","CSV_THEME","IMAGE_THEME","CORRECTION_THEME","Fragment","_Fragment","jsx","_jsx","jsxs","_jsxs","CsvVisualization","ThemeProvider","_ref","children","currentMode","getTheme","mode","theme","root","document","documentElement","style","setProperty","colors","primary","secondary","background","surface","text","textSecondary","border","success","warning","error","typography","fontFamily","fontSize","small","medium","large","xlarge","spacing","xs","sm","md","lg","xl","borderRadius","body","className","concat","name","ApplicationHeader","position","top","left","right","zIndex","backdropFilter","boxShadow","height","display","alignItems","justifyContent","borderBottom","gap","fontWeight","color","src","alt","width","onError","e","target","Toast","_ref2","message","type","onClose","timer","setTimeout","clearTimeout","getBackgroundColor","padding","animation","ApplicationContent","updateCsvOverlayState","csvOverlayState","toast","setToast","showWelcomeGuide","setShowWelcomeGuide","hasSeenGuide","localStorage","getItem","handleWelcomeGuideClose","setItem","showToast","arguments","length","undefined","hideToast","handleFilesSelected","selectedItems","panelId","panelName","existingDatasetsFromPanel","datasets","filter","dataset","fileName","filename","filteredDatasets","wasCleared","console","log","newFile","newBand","detectedBand","_existingDatasetsFrom","_existingDatasetsFrom2","oldFileName","oldBand","label","match","newDatasets","fileHandle","warn","file","getFile","size","toFixed","parseResult","parseCsvFile","data","chartColors","frequencies","map","point","frequency","minFreq","Math","min","maxFreq","max","detectBandFromFrequencyRange","noisinessIndex","noisinessCategory","noisinessAnalysis","category","noisinessResult","calculateNoisinessIndex","id","Date","now","random","toString","substr","frequencyData","amplitudeData","amplitude","visible","push","errors","fileError","finalDatasets","renderModeContent","title","maxFiles","onFilesSelected","files","fallback","showControls","showLegend","overflow","paddingTop","isVisible","AppContent","App"],"sources":["/Users/howardwang/Desktop/Turner Engineering/Software Product Design/reda-main/typescript-react-app/src/App.tsx"],"sourcesContent":[" // ========================================================================\n// REDA EMC Testing Tool - Main Application Component\n// ========================================================================\n// Turner Engineering Corporation - Professional EMC Testing Support\n// \n// Main React application component with theme management and routing\n// ========================================================================\n\nimport React, { useCallback, useState, useEffect, Suspense, lazy } from 'react';\nimport { AppContextProvider, useCurrentMode, useAppContext, useCsvOverlayState } from './context/AppContext';\nimport { FolderBrowser, WelcomeGuide } from './components';\nimport { ApplicationMode, CsvOverlayDataset, BandType } from './types';\nimport { CsvService } from './services/CsvService';\nimport { NoiseAnalysisService } from './services/NoiseAnalysisService';\nimport {\n  APP_CONFIG,\n  CSV_THEME,\n  IMAGE_THEME,\n  CORRECTION_THEME\n} from './constants';\nimport './App.css';\n\n// Lazy load heavy components for better performance\nconst CsvVisualization = lazy(() => import('./components/CsvVisualization/CsvVisualization'));\n\n// ========================================================================\n// SMALL ALWAYS-VISIBLE HEADER (NO POPUP BEHAVIOR)\n// ========================================================================\n\n// ========================================================================\n// THEME PROVIDER COMPONENT\n// ========================================================================\n\ninterface ThemeProviderProps {\n  children: React.ReactNode;\n}\n\nconst ThemeProvider: React.FC<ThemeProviderProps> = ({ children }) => {\n  const currentMode = useCurrentMode();\n  \n  // Select theme based on current mode\n  const getTheme = (mode: ApplicationMode) => {\n    switch (mode) {\n      case 'csv': return CSV_THEME;\n      case 'images': return IMAGE_THEME;\n      case 'correction': return CORRECTION_THEME;\n      default: return CSV_THEME;\n    }\n  };\n\n  const theme = getTheme(currentMode);\n\n  // Apply theme to CSS custom properties\n  React.useEffect(() => {\n    const root = document.documentElement;\n    \n    // Apply theme colors\n    root.style.setProperty('--color-primary', theme.colors.primary);\n    root.style.setProperty('--color-secondary', theme.colors.secondary);\n    root.style.setProperty('--color-background', theme.colors.background);\n    root.style.setProperty('--color-surface', theme.colors.surface);\n    root.style.setProperty('--color-text', theme.colors.text);\n    root.style.setProperty('--color-text-secondary', theme.colors.textSecondary);\n    root.style.setProperty('--color-border', theme.colors.border);\n    root.style.setProperty('--color-success', theme.colors.success);\n    root.style.setProperty('--color-warning', theme.colors.warning);\n    root.style.setProperty('--color-error', theme.colors.error);\n\n    // Apply typography\n    root.style.setProperty('--font-family', theme.typography.fontFamily);\n    root.style.setProperty('--font-size-small', theme.typography.fontSize.small);\n    root.style.setProperty('--font-size-medium', theme.typography.fontSize.medium);\n    root.style.setProperty('--font-size-large', theme.typography.fontSize.large);\n    root.style.setProperty('--font-size-xlarge', theme.typography.fontSize.xlarge);\n\n    // Apply spacing\n    root.style.setProperty('--spacing-xs', theme.spacing.xs);\n    root.style.setProperty('--spacing-sm', theme.spacing.sm);\n    root.style.setProperty('--spacing-md', theme.spacing.md);\n    root.style.setProperty('--spacing-lg', theme.spacing.lg);\n    root.style.setProperty('--spacing-xl', theme.spacing.xl);\n\n    // Apply border radius\n    root.style.setProperty('--border-radius-small', theme.borderRadius.small);\n    root.style.setProperty('--border-radius-medium', theme.borderRadius.medium);\n    root.style.setProperty('--border-radius-large', theme.borderRadius.large);\n\n    // Apply theme class to body\n    document.body.className = `${theme.name}-theme`;\n  }, [theme]);\n\n  return <>{children}</>;\n};\n\nconst ApplicationHeader: React.FC = () => {\n  return (\n    <header \n      style={{\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        right: 0,\n        zIndex: 1000,\n        background: 'rgba(255, 255, 255, 0.98)',\n        backdropFilter: 'blur(10px)',\n        boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n        height: '32px',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        borderBottom: '1px solid rgba(0, 0, 0, 0.1)'\n      }}\n    >\n      <div style={{\n        display: 'flex',\n        alignItems: 'center',\n        gap: '12px',\n        fontSize: '13px',\n        fontWeight: '600',\n        color: '#2c3e50'\n      }}>\n        <img \n          src=\"/tenco-logo.png\" \n          alt=\"Turner Engineering Corporation\" \n          style={{\n            height: '20px',\n            width: 'auto'\n          }}\n          onError={(e) => {\n            (e.target as HTMLImageElement).style.display = 'none';\n          }}\n        />\n        <span>Figure Export Tool v4.1</span>\n        <span style={{ color: '#7f8c8d', fontSize: '11px' }}>â€¢</span>\n        <span style={{ color: '#7f8c8d', fontSize: '11px' }}>Turner Engineering Corporation</span>\n      </div>\n    </header>\n  );\n};\n\n// ========================================================================\n// FILE SELECTION INTERFACE\n// ========================================================================\n\ninterface SelectedFileItem {\n  name: string;\n  path: string;\n  type: 'file' | 'folder';\n  size?: number;\n  modified?: Date;\n  isCSV?: boolean;\n  detectedBand?: BandType | null;\n  bandConfidence?: 'high' | 'medium' | 'low';\n  fileHandle?: any; // File handle for File System Access API\n  noisinessAnalysis?: any; // From NoiseAnalysisService\n}\n\n// ========================================================================\n// WELCOME GUIDE STATE MANAGEMENT\n// ========================================================================\n\n// ========================================================================\n// TOAST NOTIFICATION COMPONENT\n// ========================================================================\n\ninterface ToastProps {\n  message: string;\n  type: 'success' | 'error' | 'info';\n  onClose: () => void;\n}\n\nconst Toast: React.FC<ToastProps> = ({ message, type, onClose }) => {\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      onClose();\n    }, 3000);\n    return () => clearTimeout(timer);\n  }, [onClose]);\n\n  const getBackgroundColor = () => {\n    switch (type) {\n      case 'success': return '#22c55e';\n      case 'error': return '#ef4444';\n      case 'info': return '#3b82f6';\n      default: return '#3b82f6';\n    }\n  };\n\n  return (\n    <div\n      style={{\n        position: 'fixed',\n        top: '50px',\n        right: '20px',\n        zIndex: 10000,\n        background: getBackgroundColor(),\n        color: 'white',\n        padding: '12px 16px',\n        borderRadius: '8px',\n        fontWeight: '500',\n        fontSize: '14px',\n        boxShadow: '0 4px 12px rgba(0, 0, 0, 0.3)',\n        animation: 'slideIn 0.3s ease-out'\n      }}\n    >\n      {message}\n      <style>{`\n        @keyframes slideIn {\n          from { transform: translateX(100%); opacity: 0; }\n          to { transform: translateX(0); opacity: 1; }\n        }\n      `}</style>\n    </div>\n  );\n};\n\n// ========================================================================\n// MAIN APPLICATION CONTENT\n// ========================================================================\n\nconst ApplicationContent: React.FC = () => {\n  const currentMode = useCurrentMode();\n  const { updateCsvOverlayState } = useAppContext();\n  const { csvOverlayState } = useCsvOverlayState();\n\n  // Toast notification state\n  const [toast, setToast] = useState<{ message: string; type: 'success' | 'error' | 'info' } | null>(null);\n  \n  // Welcome guide state\n  const [showWelcomeGuide, setShowWelcomeGuide] = useState(false);\n\n  useEffect(() => {\n    // Check if user has seen the welcome guide before\n    const hasSeenGuide = localStorage.getItem('reda_welcome_guide_seen');\n    if (!hasSeenGuide) {\n      setShowWelcomeGuide(true);\n    }\n  }, []);\n\n  const handleWelcomeGuideClose = () => {\n    setShowWelcomeGuide(false);\n    localStorage.setItem('reda_welcome_guide_seen', 'true');\n  };\n\n  const showToast = (message: string, type: 'success' | 'error' | 'info' = 'info') => {\n    setToast({ message, type });\n  };\n\n  const hideToast = () => {\n    setToast(null);\n  };\n\n  // ========================================================================\n  // FILE LOADING FUNCTIONALITY\n  // ========================================================================\n\n  const handleFilesSelected = useCallback(async (selectedItems: SelectedFileItem[], panelId: string) => {\n    const panelName = panelId === 'dataset-a' ? 'Dataset A' : 'Dataset B';\n    const existingDatasetsFromPanel = csvOverlayState.datasets.filter((dataset: CsvOverlayDataset) => dataset.panelId === panelId);\n    \n    if (selectedItems.length === 0) {\n      // Clear only datasets from this panel when no files are selected\n      updateCsvOverlayState({\n        datasets: csvOverlayState.datasets.filter((dataset: CsvOverlayDataset) => dataset.panelId !== panelId)\n      });\n      \n      if (existingDatasetsFromPanel.length > 0) {\n        const fileName = existingDatasetsFromPanel[0].filename;\n        showToast(`Removed \"${fileName}\" from ${panelName}`, 'info');\n      } else {\n        showToast(`No file to clear from ${panelName}`, 'info');\n      }\n      return;\n    }\n\n    try {\n      // Clear only existing datasets from this panel when new files are selected\n      const filteredDatasets = csvOverlayState.datasets.filter((dataset: CsvOverlayDataset) => dataset.panelId !== panelId);\n      const wasCleared = csvOverlayState.datasets.length > filteredDatasets.length;\n      \n      console.log(`ðŸ§¹ Clearing datasets from ${panelId}. Before: ${csvOverlayState.datasets.length}, After: ${filteredDatasets.length}`);\n      updateCsvOverlayState({\n        datasets: filteredDatasets\n      });\n\n      console.log(`Loading 1 file from ${panelId}...`);\n      \n      const newFile = selectedItems[0]; // Only one file since we enforce single selection\n      const newBand = newFile?.detectedBand;\n      \n      if (wasCleared && existingDatasetsFromPanel.length > 0) {\n        const oldFileName = existingDatasetsFromPanel[0].filename;\n        const oldBand = existingDatasetsFromPanel[0].label?.match(/\\((.*?)\\)/)?.[1];\n        \n        if (newBand && oldBand && newBand !== oldBand) {\n          showToast(`${panelName}: Switched from \"${oldFileName}\" (${oldBand}) to \"${newFile.name}\" (${newBand})`, 'info');\n        } else {\n          showToast(`${panelName}: Switched from \"${oldFileName}\" to \"${newFile.name}\"`, 'info');\n        }\n      } else {\n        showToast(`Loading \"${newFile.name}\" into ${panelName}...`, 'info');\n      }\n\n      // Process the single file\n      const newDatasets: CsvOverlayDataset[] = [];\n\n      if (!newFile.fileHandle) {\n        console.warn(`No file handle for ${newFile.name}, skipping...`);\n        return;\n        }\n\n        try {\n          // Get the actual file from the handle\n        const file = await newFile.fileHandle.getFile();\n        console.log(`Reading file: ${newFile.name} (${(file.size / 1024).toFixed(1)} KB)`);\n          \n          // Parse the actual CSV file\n          const parseResult = await CsvService.parseCsvFile(file);\n          \n          if (parseResult.success && parseResult.data) {\n            // Assign colors based on panel: Left=Blue, Right=Orange\n            let color: string;\n            if (panelId === 'dataset-a') {\n              color = '#1f77b4'; // Professional blue for left panel\n            } else if (panelId === 'dataset-b') {\n              color = '#ff7f0e'; // Professional orange for right panel\n            } else {\n            color = APP_CONFIG.chartColors[0];\n            }\n            \n            // Detect band from actual frequency data if not already detected\n          let detectedBand = newFile.detectedBand;\n            \n            if (!detectedBand) {\n              const frequencies = parseResult.data.map(point => point.frequency / 1e6); // Convert to MHz\n              const minFreq = Math.min(...frequencies);\n              const maxFreq = Math.max(...frequencies);\n              detectedBand = CsvService.detectBandFromFrequencyRange(minFreq, maxFreq);\n            }\n            \n            // Calculate noisiness if not already available\n            let noisinessIndex, noisinessCategory;\n            if (newFile.noisinessAnalysis) {\n              noisinessIndex = newFile.noisinessAnalysis.noisinessIndex;\n              noisinessCategory = newFile.noisinessAnalysis.category;\n            } else {\n              const noisinessResult = NoiseAnalysisService.calculateNoisinessIndex(parseResult.data, newFile.name);\n              noisinessIndex = noisinessResult.noisinessIndex;\n              noisinessCategory = noisinessResult.category;\n            }\n            \n            const dataset = {\n              id: `dataset_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n            filename: newFile.name,\n              data: parseResult.data,\n              color: color,\n              frequencyData: parseResult.data.map(point => point.frequency / 1e6), // Convert to MHz\n              amplitudeData: parseResult.data.map(point => point.amplitude),\n              visible: true,\n            label: `${newFile.name} (${detectedBand || 'Unknown'})`,\n              panelId: panelId, // Store which panel this came from\n              noisinessIndex: noisinessIndex,\n              noisinessCategory: noisinessCategory\n            };\n            \n            newDatasets.push(dataset);\n          console.log(`âœ… Loaded: ${newFile.name} with ${parseResult.data.length} data points (${detectedBand || 'Unknown band'}) from ${panelId}`);\n          } else {\n          console.error(`Failed to parse ${newFile.name}:`, parseResult.errors);\n          showToast(`Failed to parse \"${newFile.name}\"`, 'error');\n          return;\n          }\n        } catch (fileError) {\n        console.error(`Error reading file ${newFile.name}:`, fileError);\n        showToast(`Error reading \"${newFile.name}\"`, 'error');\n        return;\n      }\n\n      // Update state with the new dataset\n      if (newDatasets.length > 0) {\n        const finalDatasets = [...filteredDatasets, ...newDatasets];\n        console.log(`ðŸ“Š Adding 1 new dataset to ${filteredDatasets.length} existing. Total: ${finalDatasets.length}`);\n        updateCsvOverlayState({\n          datasets: finalDatasets\n        });\n        showToast(`Successfully loaded \"${newFile.name}\" to plot`, 'success');\n      }\n\n      console.log('ðŸŽ¯ File loaded successfully for', panelId);\n    } catch (error) {\n      console.error('Error loading file:', error);\n      showToast('Failed to load selected file. Please try again.', 'error');\n    }\n  }, [updateCsvOverlayState, csvOverlayState]);\n\n  const renderModeContent = () => {\n    switch (currentMode) {\n      case 'csv':\n        return (\n          <div className=\"csv-mode-content three-panel-layout\" style={{ height: '100%' }}>\n            {/* Left Panel - Primary Folder Browser */}\n            <div className=\"left-panel\" style={{ height: '100%' }}>\n              <FolderBrowser \n                panelId=\"dataset-a\"\n                title=\"Dataset A\"\n                maxFiles={1}\n                onFilesSelected={(files) => handleFilesSelected(files, 'dataset-a')}\n              />\n            </div>\n\n            {/* Center Panel - Spectrum Visualization */}\n            <div className=\"center-panel\" data-guide-id=\"chart\" style={{ height: '100%' }}>\n              <Suspense fallback={\n                <div style={{ \n                  display: 'flex', \n                  justifyContent: 'center', \n                  alignItems: 'center', \n                  height: '400px',\n                  fontSize: '16px',\n                  color: '#666'\n                }}>\n                  Loading EMC Visualization...\n                </div>\n              }>\n                <CsvVisualization \n                  showControls={false}\n                  showLegend={true}\n                />\n              </Suspense>\n            </div>\n\n            {/* Right Panel - Secondary Folder Browser */}\n            <div className=\"right-panel\" style={{ height: '100%' }}>\n              <FolderBrowser \n                panelId=\"dataset-b\"\n                title=\"Dataset B\"\n                maxFiles={1}\n                onFilesSelected={(files) => handleFilesSelected(files, 'dataset-b')}\n              />\n            </div>\n          </div>\n        );\n      case 'images':\n        return (\n          <div className=\"image-mode-content\">\n            <div className=\"mode-placeholder\">\n              <h3>ðŸ“· Image Annotation Mode</h3>\n              <p>Upload and annotate EMC test images with measurement tools</p>\n              <small>This functionality will be implemented in the next phase</small>\n            </div>\n          </div>\n        );\n      case 'correction':\n        return (\n          <div className=\"correction-mode-content\">\n            <div className=\"mode-placeholder\">\n              <h3>âš¡ EMI Correction Mode</h3>\n              <p>Apply PCEP corrections to measurement data for accurate analysis</p>\n              <small>This functionality will be implemented in the next phase</small>\n            </div>\n          </div>\n        );\n      default:\n        return null;\n    }\n  };\n\n  return (\n    <main className=\"app-main\" style={{ height: '100vh', overflow: 'hidden', paddingTop: '32px' }}>\n      <div className=\"main-content\" style={{ height: 'calc(100% - 32px)' }}>\n        {renderModeContent()}\n      </div>\n      {toast && (\n        <Toast\n          message={toast.message}\n          type={toast.type}\n          onClose={hideToast}\n        />\n      )}\n      <WelcomeGuide \n        isVisible={showWelcomeGuide}\n        onClose={handleWelcomeGuideClose}\n      />\n    </main>\n  );\n};\n\n// ========================================================================\n// FOOTER REMOVED - KEEPING ONLY SMALL TOP HEADER\n// ========================================================================\n\n// ========================================================================\n// MAIN APP COMPONENT (WITH CONTEXT)\n// ========================================================================\n\nconst AppContent: React.FC = () => {\n  return (\n    <div className=\"app-container\">\n      <ThemeProvider>\n        <ApplicationHeader />\n        <ApplicationContent />\n      </ThemeProvider>\n    </div>\n  );\n};\n\n// ========================================================================\n// ROOT APP COMPONENT\n// ========================================================================\n\nconst App: React.FC = () => {\n  return (\n    <AppContextProvider>\n      <AppContent />\n    </AppContextProvider>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
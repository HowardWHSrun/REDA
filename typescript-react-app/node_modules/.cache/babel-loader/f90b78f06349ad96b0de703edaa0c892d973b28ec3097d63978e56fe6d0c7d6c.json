{"ast":null,"code":"var _jsxFileName = \"/Users/howardwang/Desktop/Turner Engineering/Software Product Design/reda-main/typescript-react-app/src/App.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$();\n// ========================================================================\n// REDA EMC Testing Tool - Main Application Component\n// ========================================================================\n// Turner Engineering Corporation - Professional EMC Testing Support\n// \n// Main React application component with theme management and routing\n// ========================================================================\n\nimport React, { useCallback, useState, useEffect, Suspense, lazy } from 'react';\nimport { AppContextProvider, useCurrentMode, useAppContext, useCsvOverlayState } from './context/AppContext';\nimport { FolderBrowser } from './components';\nimport { CsvService } from './services/CsvService';\nimport { NoiseAnalysisService } from './services/NoiseAnalysisService';\nimport { APP_CONFIG, CSV_THEME, IMAGE_THEME, CORRECTION_THEME } from './constants';\nimport './App.css';\n\n// Lazy load heavy components for better performance\nimport { Fragment as _Fragment, jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CsvVisualization = /*#__PURE__*/lazy(_c = () => import('./components/CsvVisualization/CsvVisualization'));\n\n// ========================================================================\n// SMALL ALWAYS-VISIBLE HEADER (NO POPUP BEHAVIOR)\n// ========================================================================\n\n// ========================================================================\n// THEME PROVIDER COMPONENT\n// ========================================================================\n_c2 = CsvVisualization;\nconst ThemeProvider = ({\n  children\n}) => {\n  _s();\n  const currentMode = useCurrentMode();\n\n  // Select theme based on current mode\n  const getTheme = mode => {\n    switch (mode) {\n      case 'csv':\n        return CSV_THEME;\n      case 'images':\n        return IMAGE_THEME;\n      case 'correction':\n        return CORRECTION_THEME;\n      default:\n        return CSV_THEME;\n    }\n  };\n  const theme = getTheme(currentMode);\n\n  // Apply theme to CSS custom properties\n  React.useEffect(() => {\n    const root = document.documentElement;\n\n    // Apply theme colors\n    root.style.setProperty('--color-primary', theme.colors.primary);\n    root.style.setProperty('--color-secondary', theme.colors.secondary);\n    root.style.setProperty('--color-background', theme.colors.background);\n    root.style.setProperty('--color-surface', theme.colors.surface);\n    root.style.setProperty('--color-text', theme.colors.text);\n    root.style.setProperty('--color-text-secondary', theme.colors.textSecondary);\n    root.style.setProperty('--color-border', theme.colors.border);\n    root.style.setProperty('--color-success', theme.colors.success);\n    root.style.setProperty('--color-warning', theme.colors.warning);\n    root.style.setProperty('--color-error', theme.colors.error);\n\n    // Apply typography\n    root.style.setProperty('--font-family', theme.typography.fontFamily);\n    root.style.setProperty('--font-size-small', theme.typography.fontSize.small);\n    root.style.setProperty('--font-size-medium', theme.typography.fontSize.medium);\n    root.style.setProperty('--font-size-large', theme.typography.fontSize.large);\n    root.style.setProperty('--font-size-xlarge', theme.typography.fontSize.xlarge);\n\n    // Apply spacing\n    root.style.setProperty('--spacing-xs', theme.spacing.xs);\n    root.style.setProperty('--spacing-sm', theme.spacing.sm);\n    root.style.setProperty('--spacing-md', theme.spacing.md);\n    root.style.setProperty('--spacing-lg', theme.spacing.lg);\n    root.style.setProperty('--spacing-xl', theme.spacing.xl);\n\n    // Apply border radius\n    root.style.setProperty('--border-radius-small', theme.borderRadius.small);\n    root.style.setProperty('--border-radius-medium', theme.borderRadius.medium);\n    root.style.setProperty('--border-radius-large', theme.borderRadius.large);\n\n    // Apply theme class to body\n    document.body.className = `${theme.name}-theme`;\n  }, [theme]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: children\n  }, void 0, false);\n};\n_s(ThemeProvider, \"Wl+vpd8WaLnGSegOPDAUOpISPGs=\", false, function () {\n  return [useCurrentMode];\n});\n_c3 = ThemeProvider;\nconst ApplicationHeader = () => {\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    style: {\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      right: 0,\n      zIndex: 1000,\n      background: 'rgba(255, 255, 255, 0.98)',\n      backdropFilter: 'blur(10px)',\n      boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n      height: '32px',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      borderBottom: '1px solid rgba(0, 0, 0, 0.1)'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        gap: '12px',\n        fontSize: '13px',\n        fontWeight: '600',\n        color: '#2c3e50'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"/tenco-logo.png\",\n        alt: \"Turner Engineering Corporation\",\n        style: {\n          height: '20px',\n          width: 'auto'\n        },\n        onError: e => {\n          e.target.style.display = 'none';\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Figure Export Tool v4.1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: '#7f8c8d',\n          fontSize: '11px'\n        },\n        children: \"\\u2022\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: '#7f8c8d',\n          fontSize: '11px'\n        },\n        children: \"Turner Engineering Corporation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 5\n  }, this);\n};\n\n// ========================================================================\n// FILE SELECTION INTERFACE\n// ========================================================================\n_c4 = ApplicationHeader;\n// ========================================================================\n// HELP OVERLAY COMPONENT\n// ========================================================================\n\nconst HelpOverlay = () => {\n  _s2();\n  const [showHelp, setShowHelp] = useState(false);\n  useEffect(() => {\n    // Check if user has seen the help before\n    const hasSeenHelp = localStorage.getItem('reda_help_seen');\n    if (!hasSeenHelp) {\n      setShowHelp(true);\n    }\n  }, []);\n  const handleDismiss = () => {\n    setShowHelp(false);\n    localStorage.setItem('reda_help_seen', 'true');\n  };\n  if (!showHelp) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"help-overlay\",\n    onClick: handleDismiss,\n    style: {\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      backgroundColor: 'rgba(0, 0, 0, 0.8)',\n      zIndex: 9999,\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      cursor: 'pointer'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"help-content\",\n      style: {\n        background: 'rgba(255, 255, 255, 0.95)',\n        backdropFilter: 'blur(10px)',\n        borderRadius: '16px',\n        padding: '32px',\n        maxWidth: '800px',\n        margin: '20px',\n        textAlign: 'center',\n        boxShadow: '0 20px 40px rgba(0, 0, 0, 0.3)'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          color: '#2c3e50',\n          marginBottom: '24px',\n          fontSize: '28px',\n          fontWeight: 'bold'\n        },\n        children: \"\\uD83D\\uDCCA Welcome to REDA EMC Testing Tool\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'grid',\n          gridTemplateColumns: 'repeat(3, 1fr)',\n          gap: '24px',\n          marginBottom: '24px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: 'rgba(31, 119, 180, 0.1)',\n            padding: '20px',\n            borderRadius: '12px',\n            border: '2px solid #1f77b4'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '48px',\n              marginBottom: '12px'\n            },\n            children: \"\\uD83D\\uDCC1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              color: '#1f77b4',\n              marginBottom: '8px'\n            },\n            children: \"Dataset A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: '#2c3e50',\n              fontSize: '14px'\n            },\n            children: \"Left Panel: Browse and select your first EMC spectrum data file for comparison\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: 'rgba(46, 204, 113, 0.1)',\n            padding: '20px',\n            borderRadius: '12px',\n            border: '2px solid #2ecc71'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '48px',\n              marginBottom: '12px'\n            },\n            children: \"\\uD83D\\uDCC8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              color: '#2ecc71',\n              marginBottom: '8px'\n            },\n            children: \"Spectrum Analysis\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: '#2c3e50',\n              fontSize: '14px'\n            },\n            children: \"Center Panel: Professional EMC spectrum visualization and comparison charts\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: 'rgba(255, 127, 14, 0.1)',\n            padding: '20px',\n            borderRadius: '12px',\n            border: '2px solid #ff7f0e'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: '48px',\n              marginBottom: '12px'\n            },\n            children: \"\\uD83D\\uDCC2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              color: '#ff7f0e',\n              marginBottom: '8px'\n            },\n            children: \"Dataset B\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: '#2c3e50',\n              fontSize: '14px'\n            },\n            children: \"Right Panel: Browse and select your second EMC spectrum data file for comparison\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: 'rgba(52, 152, 219, 0.1)',\n          padding: '16px',\n          borderRadius: '8px',\n          marginBottom: '20px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: '#2c3e50',\n            fontSize: '16px',\n            fontWeight: '500',\n            margin: 0\n          },\n          children: [\"\\u2728 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Quick Start:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 15\n          }, this), \" Click on the panel titles to open folders and load EMC CSV files. Use the export buttons to save professional charts!\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: '#7f8c8d',\n          fontSize: '14px',\n          margin: 0,\n          fontStyle: 'italic'\n        },\n        children: \"Click anywhere to dismiss this help and start analyzing your EMC data\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 181,\n    columnNumber: 5\n  }, this);\n};\n\n// ========================================================================\n// TOAST NOTIFICATION COMPONENT\n// ========================================================================\n_s2(HelpOverlay, \"tlnn7Xyx7rge8fAGyzUH2+ibFrM=\");\n_c5 = HelpOverlay;\nconst Toast = ({\n  message,\n  type,\n  onClose\n}) => {\n  _s3();\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      onClose();\n    }, 3000);\n    return () => clearTimeout(timer);\n  }, [onClose]);\n  const getBackgroundColor = () => {\n    switch (type) {\n      case 'success':\n        return '#22c55e';\n      case 'error':\n        return '#ef4444';\n      case 'info':\n        return '#3b82f6';\n      default:\n        return '#3b82f6';\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: 'fixed',\n      top: '50px',\n      right: '20px',\n      zIndex: 10000,\n      background: getBackgroundColor(),\n      color: 'white',\n      padding: '12px 16px',\n      borderRadius: '8px',\n      fontWeight: '500',\n      fontSize: '14px',\n      boxShadow: '0 4px 12px rgba(0, 0, 0, 0.3)',\n      animation: 'slideIn 0.3s ease-out'\n    },\n    children: [message, /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n        @keyframes slideIn {\n          from { transform: translateX(100%); opacity: 0; }\n          to { transform: translateX(0); opacity: 1; }\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 324,\n    columnNumber: 5\n  }, this);\n};\n\n// ========================================================================\n// MAIN APPLICATION CONTENT\n// ========================================================================\n_s3(Toast, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c6 = Toast;\nconst ApplicationContent = () => {\n  _s4();\n  const currentMode = useCurrentMode();\n  const {\n    updateCsvOverlayState\n  } = useAppContext();\n  const {\n    csvOverlayState\n  } = useCsvOverlayState();\n\n  // Toast notification state\n  const [toast, setToast] = useState(null);\n  const showToast = (message, type = 'info') => {\n    setToast({\n      message,\n      type\n    });\n  };\n  const hideToast = () => {\n    setToast(null);\n  };\n\n  // ========================================================================\n  // FILE LOADING FUNCTIONALITY\n  // ========================================================================\n\n  const handleFilesSelected = useCallback(async (selectedItems, panelId) => {\n    const panelName = panelId === 'dataset-a' ? 'Dataset A' : 'Dataset B';\n    const existingDatasetsFromPanel = csvOverlayState.datasets.filter(dataset => dataset.panelId === panelId);\n    if (selectedItems.length === 0) {\n      // Clear only datasets from this panel when no files are selected\n      updateCsvOverlayState({\n        datasets: csvOverlayState.datasets.filter(dataset => dataset.panelId !== panelId)\n      });\n      if (existingDatasetsFromPanel.length > 0) {\n        const fileName = existingDatasetsFromPanel[0].filename;\n        showToast(`Removed \"${fileName}\" from ${panelName}`, 'info');\n      } else {\n        showToast(`No file to clear from ${panelName}`, 'info');\n      }\n      return;\n    }\n    try {\n      // Clear only existing datasets from this panel when new files are selected\n      const filteredDatasets = csvOverlayState.datasets.filter(dataset => dataset.panelId !== panelId);\n      const wasCleared = csvOverlayState.datasets.length > filteredDatasets.length;\n      console.log(`üßπ Clearing datasets from ${panelId}. Before: ${csvOverlayState.datasets.length}, After: ${filteredDatasets.length}`);\n      updateCsvOverlayState({\n        datasets: filteredDatasets\n      });\n      console.log(`Loading 1 file from ${panelId}...`);\n      const newFile = selectedItems[0]; // Only one file since we enforce single selection\n      const newBand = newFile === null || newFile === void 0 ? void 0 : newFile.detectedBand;\n      if (wasCleared && existingDatasetsFromPanel.length > 0) {\n        var _existingDatasetsFrom, _existingDatasetsFrom2;\n        const oldFileName = existingDatasetsFromPanel[0].filename;\n        const oldBand = (_existingDatasetsFrom = existingDatasetsFromPanel[0].label) === null || _existingDatasetsFrom === void 0 ? void 0 : (_existingDatasetsFrom2 = _existingDatasetsFrom.match(/\\((.*?)\\)/)) === null || _existingDatasetsFrom2 === void 0 ? void 0 : _existingDatasetsFrom2[1];\n        if (newBand && oldBand && newBand !== oldBand) {\n          showToast(`${panelName}: Switched from \"${oldFileName}\" (${oldBand}) to \"${newFile.name}\" (${newBand})`, 'info');\n        } else {\n          showToast(`${panelName}: Switched from \"${oldFileName}\" to \"${newFile.name}\"`, 'info');\n        }\n      } else {\n        showToast(`Loading \"${newFile.name}\" into ${panelName}...`, 'info');\n      }\n\n      // Process the single file\n      const newDatasets = [];\n      if (!newFile.fileHandle) {\n        console.warn(`No file handle for ${newFile.name}, skipping...`);\n        return;\n      }\n      try {\n        // Get the actual file from the handle\n        const file = await newFile.fileHandle.getFile();\n        console.log(`Reading file: ${newFile.name} (${(file.size / 1024).toFixed(1)} KB)`);\n\n        // Parse the actual CSV file\n        const parseResult = await CsvService.parseCsvFile(file);\n        if (parseResult.success && parseResult.data) {\n          // Assign colors based on panel: Left=Blue, Right=Orange\n          let color;\n          if (panelId === 'dataset-a') {\n            color = '#1f77b4'; // Professional blue for left panel\n          } else if (panelId === 'dataset-b') {\n            color = '#ff7f0e'; // Professional orange for right panel\n          } else {\n            color = APP_CONFIG.chartColors[0];\n          }\n\n          // Detect band from actual frequency data if not already detected\n          let detectedBand = newFile.detectedBand;\n          if (!detectedBand) {\n            const frequencies = parseResult.data.map(point => point.frequency / 1e6); // Convert to MHz\n            const minFreq = Math.min(...frequencies);\n            const maxFreq = Math.max(...frequencies);\n            detectedBand = CsvService.detectBandFromFrequencyRange(minFreq, maxFreq);\n          }\n\n          // Calculate noisiness if not already available\n          let noisinessIndex, noisinessCategory;\n          if (newFile.noisinessAnalysis) {\n            noisinessIndex = newFile.noisinessAnalysis.noisinessIndex;\n            noisinessCategory = newFile.noisinessAnalysis.category;\n          } else {\n            const noisinessResult = NoiseAnalysisService.calculateNoisinessIndex(parseResult.data, newFile.name);\n            noisinessIndex = noisinessResult.noisinessIndex;\n            noisinessCategory = noisinessResult.category;\n          }\n          const dataset = {\n            id: `dataset_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n            filename: newFile.name,\n            data: parseResult.data,\n            color: color,\n            frequencyData: parseResult.data.map(point => point.frequency / 1e6),\n            // Convert to MHz\n            amplitudeData: parseResult.data.map(point => point.amplitude),\n            visible: true,\n            label: `${newFile.name} (${detectedBand || 'Unknown'})`,\n            panelId: panelId,\n            // Store which panel this came from\n            noisinessIndex: noisinessIndex,\n            noisinessCategory: noisinessCategory\n          };\n          newDatasets.push(dataset);\n          console.log(`‚úÖ Loaded: ${newFile.name} with ${parseResult.data.length} data points (${detectedBand || 'Unknown band'}) from ${panelId}`);\n        } else {\n          console.error(`Failed to parse ${newFile.name}:`, parseResult.errors);\n          showToast(`Failed to parse \"${newFile.name}\"`, 'error');\n          return;\n        }\n      } catch (fileError) {\n        console.error(`Error reading file ${newFile.name}:`, fileError);\n        showToast(`Error reading \"${newFile.name}\"`, 'error');\n        return;\n      }\n\n      // Update state with the new dataset\n      if (newDatasets.length > 0) {\n        const finalDatasets = [...filteredDatasets, ...newDatasets];\n        console.log(`üìä Adding 1 new dataset to ${filteredDatasets.length} existing. Total: ${finalDatasets.length}`);\n        updateCsvOverlayState({\n          datasets: finalDatasets\n        });\n        showToast(`Successfully loaded \"${newFile.name}\" to plot`, 'success');\n      }\n      console.log('üéØ File loaded successfully for', panelId);\n    } catch (error) {\n      console.error('Error loading file:', error);\n      showToast('Failed to load selected file. Please try again.', 'error');\n    }\n  }, [updateCsvOverlayState, csvOverlayState]);\n  const renderModeContent = () => {\n    switch (currentMode) {\n      case 'csv':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"csv-mode-content three-panel-layout\",\n          style: {\n            height: '100%'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"left-panel\",\n            style: {\n              height: '100%'\n            },\n            children: /*#__PURE__*/_jsxDEV(FolderBrowser, {\n              panelId: \"dataset-a\",\n              title: \"Dataset A\",\n              maxFiles: 1,\n              onFilesSelected: files => handleFilesSelected(files, 'dataset-a')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 521,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 520,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"center-panel\",\n            style: {\n              height: '100%'\n            },\n            children: /*#__PURE__*/_jsxDEV(Suspense, {\n              fallback: /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  justifyContent: 'center',\n                  alignItems: 'center',\n                  height: '400px',\n                  fontSize: '16px',\n                  color: '#666'\n                },\n                children: \"Loading EMC Visualization...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 532,\n                columnNumber: 17\n              }, this),\n              children: /*#__PURE__*/_jsxDEV(CsvVisualization, {\n                showControls: false,\n                showLegend: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 543,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 531,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 530,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"right-panel\",\n            style: {\n              height: '100%'\n            },\n            children: /*#__PURE__*/_jsxDEV(FolderBrowser, {\n              panelId: \"dataset-b\",\n              title: \"Dataset B\",\n              maxFiles: 1,\n              onFilesSelected: files => handleFilesSelected(files, 'dataset-b')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 552,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 551,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 518,\n          columnNumber: 11\n        }, this);\n      case 'images':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"image-mode-content\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mode-placeholder\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"\\uD83D\\uDCF7 Image Annotation Mode\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 565,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Upload and annotate EMC test images with measurement tools\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 566,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              children: \"This functionality will be implemented in the next phase\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 567,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 564,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 563,\n          columnNumber: 11\n        }, this);\n      case 'correction':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"correction-mode-content\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mode-placeholder\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"\\u26A1 EMI Correction Mode\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 575,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Apply PCEP corrections to measurement data for accurate analysis\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 576,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              children: \"This functionality will be implemented in the next phase\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 577,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 574,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 573,\n          columnNumber: 11\n        }, this);\n      default:\n        return null;\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    className: \"app-main\",\n    style: {\n      height: '100vh',\n      overflow: 'hidden',\n      paddingTop: '32px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-content\",\n      style: {\n        height: 'calc(100% - 32px)'\n      },\n      children: renderModeContent()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 588,\n      columnNumber: 7\n    }, this), toast && /*#__PURE__*/_jsxDEV(Toast, {\n      message: toast.message,\n      type: toast.type,\n      onClose: hideToast\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 592,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 587,\n    columnNumber: 5\n  }, this);\n};\n\n// ========================================================================\n// FOOTER REMOVED - KEEPING ONLY SMALL TOP HEADER\n// ========================================================================\n\n// ========================================================================\n// MAIN APP COMPONENT (WITH CONTEXT)\n// ========================================================================\n_s4(ApplicationContent, \"jiB3lJ+vV3r56uKDw3ALyhslh+U=\", false, function () {\n  return [useCurrentMode, useAppContext, useCsvOverlayState];\n});\n_c7 = ApplicationContent;\nconst AppContent = () => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app-container\",\n    children: /*#__PURE__*/_jsxDEV(ThemeProvider, {\n      children: [/*#__PURE__*/_jsxDEV(ApplicationHeader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 614,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ApplicationContent, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 615,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(HelpOverlay, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 616,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 613,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 612,\n    columnNumber: 5\n  }, this);\n};\n\n// ========================================================================\n// ROOT APP COMPONENT\n// ========================================================================\n_c8 = AppContent;\nconst App = () => {\n  return /*#__PURE__*/_jsxDEV(AppContextProvider, {\n    children: /*#__PURE__*/_jsxDEV(AppContent, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 629,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 628,\n    columnNumber: 5\n  }, this);\n};\n_c9 = App;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9;\n$RefreshReg$(_c, \"CsvVisualization$lazy\");\n$RefreshReg$(_c2, \"CsvVisualization\");\n$RefreshReg$(_c3, \"ThemeProvider\");\n$RefreshReg$(_c4, \"ApplicationHeader\");\n$RefreshReg$(_c5, \"HelpOverlay\");\n$RefreshReg$(_c6, \"Toast\");\n$RefreshReg$(_c7, \"ApplicationContent\");\n$RefreshReg$(_c8, \"AppContent\");\n$RefreshReg$(_c9, \"App\");","map":{"version":3,"names":["React","useCallback","useState","useEffect","Suspense","lazy","AppContextProvider","useCurrentMode","useAppContext","useCsvOverlayState","FolderBrowser","CsvService","NoiseAnalysisService","APP_CONFIG","CSV_THEME","IMAGE_THEME","CORRECTION_THEME","Fragment","_Fragment","jsxDEV","_jsxDEV","CsvVisualization","_c","_c2","ThemeProvider","children","_s","currentMode","getTheme","mode","theme","root","document","documentElement","style","setProperty","colors","primary","secondary","background","surface","text","textSecondary","border","success","warning","error","typography","fontFamily","fontSize","small","medium","large","xlarge","spacing","xs","sm","md","lg","xl","borderRadius","body","className","name","_c3","ApplicationHeader","position","top","left","right","zIndex","backdropFilter","boxShadow","height","display","alignItems","justifyContent","borderBottom","gap","fontWeight","color","src","alt","width","onError","e","target","fileName","_jsxFileName","lineNumber","columnNumber","_c4","HelpOverlay","_s2","showHelp","setShowHelp","hasSeenHelp","localStorage","getItem","handleDismiss","setItem","onClick","bottom","backgroundColor","cursor","padding","maxWidth","margin","textAlign","marginBottom","gridTemplateColumns","fontStyle","_c5","Toast","message","type","onClose","_s3","timer","setTimeout","clearTimeout","getBackgroundColor","animation","_c6","ApplicationContent","_s4","updateCsvOverlayState","csvOverlayState","toast","setToast","showToast","hideToast","handleFilesSelected","selectedItems","panelId","panelName","existingDatasetsFromPanel","datasets","filter","dataset","length","filename","filteredDatasets","wasCleared","console","log","newFile","newBand","detectedBand","_existingDatasetsFrom","_existingDatasetsFrom2","oldFileName","oldBand","label","match","newDatasets","fileHandle","warn","file","getFile","size","toFixed","parseResult","parseCsvFile","data","chartColors","frequencies","map","point","frequency","minFreq","Math","min","maxFreq","max","detectBandFromFrequencyRange","noisinessIndex","noisinessCategory","noisinessAnalysis","category","noisinessResult","calculateNoisinessIndex","id","Date","now","random","toString","substr","frequencyData","amplitudeData","amplitude","visible","push","errors","fileError","finalDatasets","renderModeContent","title","maxFiles","onFilesSelected","files","fallback","showControls","showLegend","overflow","paddingTop","_c7","AppContent","_c8","App","_c9","$RefreshReg$"],"sources":["/Users/howardwang/Desktop/Turner Engineering/Software Product Design/reda-main/typescript-react-app/src/App.tsx"],"sourcesContent":[" // ========================================================================\n// REDA EMC Testing Tool - Main Application Component\n// ========================================================================\n// Turner Engineering Corporation - Professional EMC Testing Support\n// \n// Main React application component with theme management and routing\n// ========================================================================\n\nimport React, { useCallback, useState, useEffect, Suspense, lazy } from 'react';\nimport { AppContextProvider, useCurrentMode, useAppContext, useCsvOverlayState } from './context/AppContext';\nimport { FolderBrowser } from './components';\nimport { ApplicationMode, CsvOverlayDataset, BandType } from './types';\nimport { CsvService } from './services/CsvService';\nimport { NoiseAnalysisService } from './services/NoiseAnalysisService';\nimport {\n  APP_CONFIG,\n  CSV_THEME,\n  IMAGE_THEME,\n  CORRECTION_THEME\n} from './constants';\nimport './App.css';\n\n// Lazy load heavy components for better performance\nconst CsvVisualization = lazy(() => import('./components/CsvVisualization/CsvVisualization'));\n\n// ========================================================================\n// SMALL ALWAYS-VISIBLE HEADER (NO POPUP BEHAVIOR)\n// ========================================================================\n\n// ========================================================================\n// THEME PROVIDER COMPONENT\n// ========================================================================\n\ninterface ThemeProviderProps {\n  children: React.ReactNode;\n}\n\nconst ThemeProvider: React.FC<ThemeProviderProps> = ({ children }) => {\n  const currentMode = useCurrentMode();\n  \n  // Select theme based on current mode\n  const getTheme = (mode: ApplicationMode) => {\n    switch (mode) {\n      case 'csv': return CSV_THEME;\n      case 'images': return IMAGE_THEME;\n      case 'correction': return CORRECTION_THEME;\n      default: return CSV_THEME;\n    }\n  };\n\n  const theme = getTheme(currentMode);\n\n  // Apply theme to CSS custom properties\n  React.useEffect(() => {\n    const root = document.documentElement;\n    \n    // Apply theme colors\n    root.style.setProperty('--color-primary', theme.colors.primary);\n    root.style.setProperty('--color-secondary', theme.colors.secondary);\n    root.style.setProperty('--color-background', theme.colors.background);\n    root.style.setProperty('--color-surface', theme.colors.surface);\n    root.style.setProperty('--color-text', theme.colors.text);\n    root.style.setProperty('--color-text-secondary', theme.colors.textSecondary);\n    root.style.setProperty('--color-border', theme.colors.border);\n    root.style.setProperty('--color-success', theme.colors.success);\n    root.style.setProperty('--color-warning', theme.colors.warning);\n    root.style.setProperty('--color-error', theme.colors.error);\n\n    // Apply typography\n    root.style.setProperty('--font-family', theme.typography.fontFamily);\n    root.style.setProperty('--font-size-small', theme.typography.fontSize.small);\n    root.style.setProperty('--font-size-medium', theme.typography.fontSize.medium);\n    root.style.setProperty('--font-size-large', theme.typography.fontSize.large);\n    root.style.setProperty('--font-size-xlarge', theme.typography.fontSize.xlarge);\n\n    // Apply spacing\n    root.style.setProperty('--spacing-xs', theme.spacing.xs);\n    root.style.setProperty('--spacing-sm', theme.spacing.sm);\n    root.style.setProperty('--spacing-md', theme.spacing.md);\n    root.style.setProperty('--spacing-lg', theme.spacing.lg);\n    root.style.setProperty('--spacing-xl', theme.spacing.xl);\n\n    // Apply border radius\n    root.style.setProperty('--border-radius-small', theme.borderRadius.small);\n    root.style.setProperty('--border-radius-medium', theme.borderRadius.medium);\n    root.style.setProperty('--border-radius-large', theme.borderRadius.large);\n\n    // Apply theme class to body\n    document.body.className = `${theme.name}-theme`;\n  }, [theme]);\n\n  return <>{children}</>;\n};\n\nconst ApplicationHeader: React.FC = () => {\n  return (\n    <header \n      style={{\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        right: 0,\n        zIndex: 1000,\n        background: 'rgba(255, 255, 255, 0.98)',\n        backdropFilter: 'blur(10px)',\n        boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n        height: '32px',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        borderBottom: '1px solid rgba(0, 0, 0, 0.1)'\n      }}\n    >\n      <div style={{\n        display: 'flex',\n        alignItems: 'center',\n        gap: '12px',\n        fontSize: '13px',\n        fontWeight: '600',\n        color: '#2c3e50'\n      }}>\n        <img \n          src=\"/tenco-logo.png\" \n          alt=\"Turner Engineering Corporation\" \n          style={{\n            height: '20px',\n            width: 'auto'\n          }}\n          onError={(e) => {\n            (e.target as HTMLImageElement).style.display = 'none';\n          }}\n        />\n        <span>Figure Export Tool v4.1</span>\n        <span style={{ color: '#7f8c8d', fontSize: '11px' }}>‚Ä¢</span>\n        <span style={{ color: '#7f8c8d', fontSize: '11px' }}>Turner Engineering Corporation</span>\n      </div>\n    </header>\n  );\n};\n\n// ========================================================================\n// FILE SELECTION INTERFACE\n// ========================================================================\n\ninterface SelectedFileItem {\n  name: string;\n  path: string;\n  type: 'file' | 'folder';\n  size?: number;\n  modified?: Date;\n  isCSV?: boolean;\n  detectedBand?: BandType | null;\n  bandConfidence?: 'high' | 'medium' | 'low';\n  fileHandle?: any; // File handle for File System Access API\n  noisinessAnalysis?: any; // From NoiseAnalysisService\n}\n\n// ========================================================================\n// HELP OVERLAY COMPONENT\n// ========================================================================\n\nconst HelpOverlay: React.FC = () => {\n  const [showHelp, setShowHelp] = useState(false);\n\n  useEffect(() => {\n    // Check if user has seen the help before\n    const hasSeenHelp = localStorage.getItem('reda_help_seen');\n    if (!hasSeenHelp) {\n      setShowHelp(true);\n    }\n  }, []);\n\n  const handleDismiss = () => {\n    setShowHelp(false);\n    localStorage.setItem('reda_help_seen', 'true');\n  };\n\n  if (!showHelp) return null;\n\n  return (\n    <div \n      className=\"help-overlay\"\n      onClick={handleDismiss}\n      style={{\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        backgroundColor: 'rgba(0, 0, 0, 0.8)',\n        zIndex: 9999,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        cursor: 'pointer'\n      }}\n    >\n      <div \n        className=\"help-content\"\n        style={{\n          background: 'rgba(255, 255, 255, 0.95)',\n          backdropFilter: 'blur(10px)',\n          borderRadius: '16px',\n          padding: '32px',\n          maxWidth: '800px',\n          margin: '20px',\n          textAlign: 'center',\n          boxShadow: '0 20px 40px rgba(0, 0, 0, 0.3)'\n        }}\n      >\n        <h2 style={{ \n          color: '#2c3e50', \n          marginBottom: '24px', \n          fontSize: '28px',\n          fontWeight: 'bold'\n        }}>\n          üìä Welcome to REDA EMC Testing Tool\n        </h2>\n        \n        <div style={{\n          display: 'grid',\n          gridTemplateColumns: 'repeat(3, 1fr)',\n          gap: '24px',\n          marginBottom: '24px'\n        }}>\n          <div style={{\n            background: 'rgba(31, 119, 180, 0.1)',\n            padding: '20px',\n            borderRadius: '12px',\n            border: '2px solid #1f77b4'\n          }}>\n            <div style={{ fontSize: '48px', marginBottom: '12px' }}>üìÅ</div>\n            <h3 style={{ color: '#1f77b4', marginBottom: '8px' }}>Dataset A</h3>\n            <p style={{ color: '#2c3e50', fontSize: '14px' }}>\n              Left Panel: Browse and select your first EMC spectrum data file for comparison\n            </p>\n          </div>\n          \n          <div style={{\n            background: 'rgba(46, 204, 113, 0.1)',\n            padding: '20px',\n            borderRadius: '12px',\n            border: '2px solid #2ecc71'\n          }}>\n            <div style={{ fontSize: '48px', marginBottom: '12px' }}>üìà</div>\n            <h3 style={{ color: '#2ecc71', marginBottom: '8px' }}>Spectrum Analysis</h3>\n            <p style={{ color: '#2c3e50', fontSize: '14px' }}>\n              Center Panel: Professional EMC spectrum visualization and comparison charts\n            </p>\n          </div>\n          \n          <div style={{\n            background: 'rgba(255, 127, 14, 0.1)',\n            padding: '20px',\n            borderRadius: '12px',\n            border: '2px solid #ff7f0e'\n          }}>\n            <div style={{ fontSize: '48px', marginBottom: '12px' }}>üìÇ</div>\n            <h3 style={{ color: '#ff7f0e', marginBottom: '8px' }}>Dataset B</h3>\n            <p style={{ color: '#2c3e50', fontSize: '14px' }}>\n              Right Panel: Browse and select your second EMC spectrum data file for comparison\n            </p>\n          </div>\n        </div>\n\n        <div style={{\n          background: 'rgba(52, 152, 219, 0.1)',\n          padding: '16px',\n          borderRadius: '8px',\n          marginBottom: '20px'\n        }}>\n          <p style={{ \n            color: '#2c3e50', \n            fontSize: '16px',\n            fontWeight: '500',\n            margin: 0\n          }}>\n            ‚ú® <strong>Quick Start:</strong> Click on the panel titles to open folders and load EMC CSV files. \n            Use the export buttons to save professional charts!\n          </p>\n        </div>\n\n        <p style={{ \n          color: '#7f8c8d', \n          fontSize: '14px',\n          margin: 0,\n          fontStyle: 'italic'\n        }}>\n          Click anywhere to dismiss this help and start analyzing your EMC data\n        </p>\n      </div>\n    </div>\n  );\n};\n\n// ========================================================================\n// TOAST NOTIFICATION COMPONENT\n// ========================================================================\n\ninterface ToastProps {\n  message: string;\n  type: 'success' | 'error' | 'info';\n  onClose: () => void;\n}\n\nconst Toast: React.FC<ToastProps> = ({ message, type, onClose }) => {\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      onClose();\n    }, 3000);\n    return () => clearTimeout(timer);\n  }, [onClose]);\n\n  const getBackgroundColor = () => {\n    switch (type) {\n      case 'success': return '#22c55e';\n      case 'error': return '#ef4444';\n      case 'info': return '#3b82f6';\n      default: return '#3b82f6';\n    }\n  };\n\n  return (\n    <div\n      style={{\n        position: 'fixed',\n        top: '50px',\n        right: '20px',\n        zIndex: 10000,\n        background: getBackgroundColor(),\n        color: 'white',\n        padding: '12px 16px',\n        borderRadius: '8px',\n        fontWeight: '500',\n        fontSize: '14px',\n        boxShadow: '0 4px 12px rgba(0, 0, 0, 0.3)',\n        animation: 'slideIn 0.3s ease-out'\n      }}\n    >\n      {message}\n      <style>{`\n        @keyframes slideIn {\n          from { transform: translateX(100%); opacity: 0; }\n          to { transform: translateX(0); opacity: 1; }\n        }\n      `}</style>\n    </div>\n  );\n};\n\n// ========================================================================\n// MAIN APPLICATION CONTENT\n// ========================================================================\n\nconst ApplicationContent: React.FC = () => {\n  const currentMode = useCurrentMode();\n  const { updateCsvOverlayState } = useAppContext();\n  const { csvOverlayState } = useCsvOverlayState();\n\n  // Toast notification state\n  const [toast, setToast] = useState<{ message: string; type: 'success' | 'error' | 'info' } | null>(null);\n\n  const showToast = (message: string, type: 'success' | 'error' | 'info' = 'info') => {\n    setToast({ message, type });\n  };\n\n  const hideToast = () => {\n    setToast(null);\n  };\n\n  // ========================================================================\n  // FILE LOADING FUNCTIONALITY\n  // ========================================================================\n\n  const handleFilesSelected = useCallback(async (selectedItems: SelectedFileItem[], panelId: string) => {\n    const panelName = panelId === 'dataset-a' ? 'Dataset A' : 'Dataset B';\n    const existingDatasetsFromPanel = csvOverlayState.datasets.filter((dataset: CsvOverlayDataset) => dataset.panelId === panelId);\n    \n    if (selectedItems.length === 0) {\n      // Clear only datasets from this panel when no files are selected\n      updateCsvOverlayState({\n        datasets: csvOverlayState.datasets.filter((dataset: CsvOverlayDataset) => dataset.panelId !== panelId)\n      });\n      \n      if (existingDatasetsFromPanel.length > 0) {\n        const fileName = existingDatasetsFromPanel[0].filename;\n        showToast(`Removed \"${fileName}\" from ${panelName}`, 'info');\n      } else {\n        showToast(`No file to clear from ${panelName}`, 'info');\n      }\n      return;\n    }\n\n    try {\n      // Clear only existing datasets from this panel when new files are selected\n      const filteredDatasets = csvOverlayState.datasets.filter((dataset: CsvOverlayDataset) => dataset.panelId !== panelId);\n      const wasCleared = csvOverlayState.datasets.length > filteredDatasets.length;\n      \n      console.log(`üßπ Clearing datasets from ${panelId}. Before: ${csvOverlayState.datasets.length}, After: ${filteredDatasets.length}`);\n      updateCsvOverlayState({\n        datasets: filteredDatasets\n      });\n\n      console.log(`Loading 1 file from ${panelId}...`);\n      \n      const newFile = selectedItems[0]; // Only one file since we enforce single selection\n      const newBand = newFile?.detectedBand;\n      \n      if (wasCleared && existingDatasetsFromPanel.length > 0) {\n        const oldFileName = existingDatasetsFromPanel[0].filename;\n        const oldBand = existingDatasetsFromPanel[0].label?.match(/\\((.*?)\\)/)?.[1];\n        \n        if (newBand && oldBand && newBand !== oldBand) {\n          showToast(`${panelName}: Switched from \"${oldFileName}\" (${oldBand}) to \"${newFile.name}\" (${newBand})`, 'info');\n        } else {\n          showToast(`${panelName}: Switched from \"${oldFileName}\" to \"${newFile.name}\"`, 'info');\n        }\n      } else {\n        showToast(`Loading \"${newFile.name}\" into ${panelName}...`, 'info');\n      }\n\n      // Process the single file\n      const newDatasets: CsvOverlayDataset[] = [];\n\n      if (!newFile.fileHandle) {\n        console.warn(`No file handle for ${newFile.name}, skipping...`);\n        return;\n        }\n\n        try {\n          // Get the actual file from the handle\n        const file = await newFile.fileHandle.getFile();\n        console.log(`Reading file: ${newFile.name} (${(file.size / 1024).toFixed(1)} KB)`);\n          \n          // Parse the actual CSV file\n          const parseResult = await CsvService.parseCsvFile(file);\n          \n          if (parseResult.success && parseResult.data) {\n            // Assign colors based on panel: Left=Blue, Right=Orange\n            let color: string;\n            if (panelId === 'dataset-a') {\n              color = '#1f77b4'; // Professional blue for left panel\n            } else if (panelId === 'dataset-b') {\n              color = '#ff7f0e'; // Professional orange for right panel\n            } else {\n            color = APP_CONFIG.chartColors[0];\n            }\n            \n            // Detect band from actual frequency data if not already detected\n          let detectedBand = newFile.detectedBand;\n            \n            if (!detectedBand) {\n              const frequencies = parseResult.data.map(point => point.frequency / 1e6); // Convert to MHz\n              const minFreq = Math.min(...frequencies);\n              const maxFreq = Math.max(...frequencies);\n              detectedBand = CsvService.detectBandFromFrequencyRange(minFreq, maxFreq);\n            }\n            \n            // Calculate noisiness if not already available\n            let noisinessIndex, noisinessCategory;\n            if (newFile.noisinessAnalysis) {\n              noisinessIndex = newFile.noisinessAnalysis.noisinessIndex;\n              noisinessCategory = newFile.noisinessAnalysis.category;\n            } else {\n              const noisinessResult = NoiseAnalysisService.calculateNoisinessIndex(parseResult.data, newFile.name);\n              noisinessIndex = noisinessResult.noisinessIndex;\n              noisinessCategory = noisinessResult.category;\n            }\n            \n            const dataset = {\n              id: `dataset_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n            filename: newFile.name,\n              data: parseResult.data,\n              color: color,\n              frequencyData: parseResult.data.map(point => point.frequency / 1e6), // Convert to MHz\n              amplitudeData: parseResult.data.map(point => point.amplitude),\n              visible: true,\n            label: `${newFile.name} (${detectedBand || 'Unknown'})`,\n              panelId: panelId, // Store which panel this came from\n              noisinessIndex: noisinessIndex,\n              noisinessCategory: noisinessCategory\n            };\n            \n            newDatasets.push(dataset);\n          console.log(`‚úÖ Loaded: ${newFile.name} with ${parseResult.data.length} data points (${detectedBand || 'Unknown band'}) from ${panelId}`);\n          } else {\n          console.error(`Failed to parse ${newFile.name}:`, parseResult.errors);\n          showToast(`Failed to parse \"${newFile.name}\"`, 'error');\n          return;\n          }\n        } catch (fileError) {\n        console.error(`Error reading file ${newFile.name}:`, fileError);\n        showToast(`Error reading \"${newFile.name}\"`, 'error');\n        return;\n      }\n\n      // Update state with the new dataset\n      if (newDatasets.length > 0) {\n        const finalDatasets = [...filteredDatasets, ...newDatasets];\n        console.log(`üìä Adding 1 new dataset to ${filteredDatasets.length} existing. Total: ${finalDatasets.length}`);\n        updateCsvOverlayState({\n          datasets: finalDatasets\n        });\n        showToast(`Successfully loaded \"${newFile.name}\" to plot`, 'success');\n      }\n\n      console.log('üéØ File loaded successfully for', panelId);\n    } catch (error) {\n      console.error('Error loading file:', error);\n      showToast('Failed to load selected file. Please try again.', 'error');\n    }\n  }, [updateCsvOverlayState, csvOverlayState]);\n\n  const renderModeContent = () => {\n    switch (currentMode) {\n      case 'csv':\n        return (\n          <div className=\"csv-mode-content three-panel-layout\" style={{ height: '100%' }}>\n            {/* Left Panel - Primary Folder Browser */}\n            <div className=\"left-panel\" style={{ height: '100%' }}>\n              <FolderBrowser \n                panelId=\"dataset-a\"\n                title=\"Dataset A\"\n                maxFiles={1}\n                onFilesSelected={(files) => handleFilesSelected(files, 'dataset-a')}\n              />\n            </div>\n\n            {/* Center Panel - Spectrum Visualization */}\n            <div className=\"center-panel\" style={{ height: '100%' }}>\n              <Suspense fallback={\n                <div style={{ \n                  display: 'flex', \n                  justifyContent: 'center', \n                  alignItems: 'center', \n                  height: '400px',\n                  fontSize: '16px',\n                  color: '#666'\n                }}>\n                  Loading EMC Visualization...\n                </div>\n              }>\n                <CsvVisualization \n                  showControls={false}\n                  showLegend={true}\n                />\n              </Suspense>\n            </div>\n\n            {/* Right Panel - Secondary Folder Browser */}\n            <div className=\"right-panel\" style={{ height: '100%' }}>\n              <FolderBrowser \n                panelId=\"dataset-b\"\n                title=\"Dataset B\"\n                maxFiles={1}\n                onFilesSelected={(files) => handleFilesSelected(files, 'dataset-b')}\n              />\n            </div>\n          </div>\n        );\n      case 'images':\n        return (\n          <div className=\"image-mode-content\">\n            <div className=\"mode-placeholder\">\n              <h3>üì∑ Image Annotation Mode</h3>\n              <p>Upload and annotate EMC test images with measurement tools</p>\n              <small>This functionality will be implemented in the next phase</small>\n            </div>\n          </div>\n        );\n      case 'correction':\n        return (\n          <div className=\"correction-mode-content\">\n            <div className=\"mode-placeholder\">\n              <h3>‚ö° EMI Correction Mode</h3>\n              <p>Apply PCEP corrections to measurement data for accurate analysis</p>\n              <small>This functionality will be implemented in the next phase</small>\n            </div>\n          </div>\n        );\n      default:\n        return null;\n    }\n  };\n\n  return (\n    <main className=\"app-main\" style={{ height: '100vh', overflow: 'hidden', paddingTop: '32px' }}>\n      <div className=\"main-content\" style={{ height: 'calc(100% - 32px)' }}>\n        {renderModeContent()}\n      </div>\n      {toast && (\n        <Toast\n          message={toast.message}\n          type={toast.type}\n          onClose={hideToast}\n        />\n      )}\n    </main>\n  );\n};\n\n// ========================================================================\n// FOOTER REMOVED - KEEPING ONLY SMALL TOP HEADER\n// ========================================================================\n\n// ========================================================================\n// MAIN APP COMPONENT (WITH CONTEXT)\n// ========================================================================\n\nconst AppContent: React.FC = () => {\n  return (\n    <div className=\"app-container\">\n      <ThemeProvider>\n        <ApplicationHeader />\n        <ApplicationContent />\n        <HelpOverlay />\n      </ThemeProvider>\n    </div>\n  );\n};\n\n// ========================================================================\n// ROOT APP COMPONENT\n// ========================================================================\n\nconst App: React.FC = () => {\n  return (\n    <AppContextProvider>\n      <AppContent />\n    </AppContextProvider>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}